(function(){var e={1106:function(){},8829:function(e,t,r){"use strict";var s=r(6369),a=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},i=[],n=(r(7658),{methods:{goToIndexPage(){this.$router.push({path:"<%=request.getContextPath()%>/index.jsp"})}}}),o=n,u=r(1001),d=(0,u.Z)(o,a,i,!1,null,null,null),p=d.exports,l=r(2631),c=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("Step 1")]),t("div",[t("label",{attrs:{for:"codeInput"}},[e._v("가족 코드")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",id:"codeInput",readonly:e.isCodeGenerated},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),t("button",{attrs:{type:"button",disabled:e.isCodeGenerated},on:{click:e.generateCode}},[e._v("코드 생성")])]),t("button",{attrs:{type:"button",disabled:!e.isCodeValid},on:{click:e.goToNextStep}},[e._v("다음")])])},v=[],m={name:"Step1Page",props:{familyCode:String,isCodeGenerated:Boolean},data(){return{code:this.familyCode,isCodeValid:!!this.familyCode}},methods:{generateCode(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let r=0;r<6;r++)t+=e.charAt(Math.floor(Math.random()*e.length));this.code=t,this.isCodeValid=!0,this.$emit("update:code",t),this.$emit("update:valid",!0)},goToNextStep(){this.$router.push({name:"Step2Page"})}}},h=m,g=(0,u.Z)(h,c,v,!1,null,null,null),f=g.exports,P=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("Step 2")]),t("div",[t("label",{attrs:{for:"userIdInput"}},[e._v("아이디")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],attrs:{type:"text",id:"userIdInput"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}}),e.isIdValid?e._e():t("div",{staticClass:"error"},[e._v("* 영문 소문자, 숫자만 사용 가능하며, 5자 이상 12자 이하로 작성해주세요.")])]),t("div",[t("label",{attrs:{for:"userPwInput"}},[e._v("비밀번호")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPw,expression:"userPw"}],attrs:{type:"password",id:"userPwInput"},domProps:{value:e.userPw},on:{input:function(t){t.target.composing||(e.userPw=t.target.value)}}}),e.isUserPwValid?e._e():t("div",{staticClass:"error"},[e._v("* 영문 대/소문자, 숫자, 특수문자를 각각 1개 이상 포함해 8자 이상 16자 이하로 작성해주세요.")])]),t("button",{attrs:{type:"button",disabled:!e.isIdValid||!e.isUserPwValid},on:{click:e.goToNextStep}},[e._v("다음")])])},_=[],I={name:"Step2Page",data(){return{userId:"",userPw:"",isIdValid:!1,isUserPwValid:!1}},methods:{validateId(){const e=/^[a-z0-9]{5,12}$/;this.isIdValid=e.test(this.userId),this.$emit("update:valid",this.isIdValid&&this.isUserPwValid)},validateUserPw(){const e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,16}$/;this.isUserPwValid=e.test(this.userPw),this.$emit("update:user-pw-validity",this.isUserPwValid),this.$emit("update:valid",this.isIdValid&&this.isUserPwValid)},goToNextStep(){this.$emit("next")}},watch:{userId(){this.validateId()},userPw(){this.validateUserPw()}}},w=I,S=(0,u.Z)(w,P,_,!1,null,null,null),y=S.exports,x=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h2",[e._v("개인정보 입력")]),t("div",[t("label",{attrs:{for:"userNameInput"}},[e._v("이름")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",id:"userNameInput"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})]),t("div",[t("label",{attrs:{for:"userAgeInput"}},[e._v("나이")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userAge,expression:"userAge"}],attrs:{type:"number",id:"userAgeInput"},domProps:{value:e.userAge},on:{input:function(t){t.target.composing||(e.userAge=t.target.value)}}})]),t("div",[t("label",{attrs:{for:"userSexInput"}},[e._v("성별")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.userSex,expression:"userSex"}],attrs:{id:"userSexInput"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.userSex=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"M"}},[e._v("남")]),t("option",{attrs:{value:"F"}},[e._v("여")])])]),t("div",[t("label",{attrs:{for:"userAddressInput"}},[e._v("주소")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userAddress,expression:"userAddress"}],attrs:{type:"text",id:"userAddressInput"},domProps:{value:e.userAddress},on:{input:function(t){t.target.composing||(e.userAddress=t.target.value)}}})]),t("div",[t("label",{attrs:{for:"userPhoneInput"}},[e._v("전화번호")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],attrs:{type:"text",id:"userPhoneInput"},domProps:{value:e.userPhone},on:{input:function(t){t.target.composing||(e.userPhone=t.target.value)}}})]),t("div",[t("label",{attrs:{for:"emailInput"}},[e._v("이메일")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"emailInput"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e.isCodeGenerated?t("div",[t("label",{attrs:{for:"approveInput"}},[e._v("Approve")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.approve,expression:"approve"}],attrs:{type:"checkbox",id:"approveInput"},domProps:{value:1,checked:Array.isArray(e.approve)?e._i(e.approve,1)>-1:e.approve},on:{change:function(t){var r=e.approve,s=t.target,a=!!s.checked;if(Array.isArray(r)){var i=1,n=e._i(r,i);s.checked?n<0&&(e.approve=r.concat([i])):n>-1&&(e.approve=r.slice(0,n).concat(r.slice(n+1)))}else e.approve=a}}})]):e._e(),t("button",{attrs:{type:"button"},on:{click:e.saveData}},[e._v("가입 완료")])])},b=[],A=r(1106),V=r.n(A),C=V(),E=(0,u.Z)(C,x,b,!1,null,null,null),N=E.exports,$=function(){var e=this,t=e._self._c;return t("div",[1===e.currentStep?t("Step1Page",{on:{"update:valid":e.updateCodeValidity,"update:code":e.updateCode,next:e.nextStep}}):e._e(),2===e.currentStep?t("Step2Page",{on:{"update:valid":e.updateIdValidity,"update:user-pw-validity":e.updateUserPwValidity,next:e.nextStep}}):e._e(),3===e.currentStep?t("Step3Page",{on:{save:e.saveData}}):e._e()],1)},T=[],D={name:"SignupPage",components:{Step1Page:f,Step2Page:y,Step3Page:N},data(){return{currentStep:1,isCodeValid:!1,code:"",isIdValid:!1,isUserPwValid:!1}},methods:{updateCodeValidity(e){this.isCodeValid=e},updateCode(e){this.code=e},updateIdValidity(e){this.isIdValid=e},updateUserPwValidity(e){this.isUserPwValid=e},nextStep(){this.currentStep++},saveData(){const e={code:this.$store.state.signup.familyCode},t={userId:this.$store.state.signup.userId,userPw:this.$store.state.signup.userPw,userName:this.$store.state.signup.userName,userAge:this.$store.state.signup.userAge,userSex:this.$store.state.signup.userSex,userAddress:this.$store.state.signup.userAddress,userPhone:this.$store.state.signup.userPhone,email:this.$store.state.signup.email,approve:this.$store.state.signup.approve};this.$store.dispatch("signup",{familyData:e,userData:t}).then((e=>{e.success?(this.errorMsg="",this.$router.push({path:"/signup/complete"})):this.errorMsg=e.errorMsg})).catch((e=>{console.log(e)}));const r="/main.jsp",s=new l.ZP({mode:history,base:""});s.push({path:r})}}},U=D,O=(0,u.Z)(U,$,T,!1,null,null,null),Z=O.exports,k=r(4161);const M={familyCode:"",userId:"",userPw:"",userData:{userName:"",userAge:"",userSex:"",userAddress:"",userPhone:"",email:"",approve:!1},isCodeGenerated:!1,isIdValid:!1,isUserPwValid:!1},G={SET_FAMILY_CODE(e,t){e.familyCode=t},SET_USER_ID(e,t){e.userId=t},SET_USER_PW(e,t){e.userPw=t},SET_USER_DATA(e,t){e.userData=t},SET_CODE_GENERATED(e,t){e.isCodeGenerated=t},SET_ID_VALID(e,t){e.isIdValid=t},SET_USER_PW_VALID(e,t){e.isUserPwValid=t},actions:{signup({commit:e},{familyData:t,userData:r}){return new Promise(((s,a)=>{k.Z.post("/api/user/signup",{family:t,user:r}).then((i=>{i.data.success?(e("SET_FAMILY_CODE",t.code),e("SET_USER_ID",r.userId),e("SET_USER_PW",r.userPw),e("SET_CODE_GENERATED",!0),s({success:!0})):a({success:!1,errorMsg:i.data.errorMsg})})).catch((e=>{a({success:!1,errorMsg:e})}))}))}}};var R={state:M,mutations:G};s.ZP.use(l.ZP);const j=[{path:"/",redirect:"/step1"},{path:"/step1",name:"Step1Page",component:f},{path:"/step2",name:"Step2Page",component:y},{path:"/step3",name:"Step3Page",component:N},{path:"/signuppage",name:"SignupPage",component:Z}],F=new l.ZP({mode:"history",base:"",routes:j});F.store=R;var L=F;s.ZP.config.productionTip=!1,new s.ZP({router:L,render:e=>e(p)}).$mount("#app")}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,s,a,i){if(!s){var n=1/0;for(p=0;p<e.length;p++){s=e[p][0],a=e[p][1],i=e[p][2];for(var o=!0,u=0;u<s.length;u++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](s[u])}))?s.splice(u--,1):(o=!1,i<n&&(n=i));if(o){e.splice(p--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[s,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,n=s[0],o=s[1],u=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(u)var p=u(r)}for(t&&t(s);d<n.length;d++)i=n[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(p)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(8829)}));s=r.O(s)})();
//# sourceMappingURL=app.34648006.js.map